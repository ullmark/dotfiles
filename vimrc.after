" reduce vi compatibility for more usefult stuff
set nocompatible
set nohlsearch
set ttyfast
set t_Co=256
set synmaxcol=250
set magic
set nowrap
set modelines=0
set enc=utf-8
set foldlevel=99
set expandtab
set textwidth=0 wrapmargin=0
set complete-=i
set noeb vb t_vb=
set complete-=i
" I want a slighly bigger preview window.
set previewheight=25

" Set Color Theme
colors zenburn 
set guifont=Monaco:h16
set guioptions-=T " Removes top toolbar
set guioptions-=r " Removes right hand scroll bar
set go-=L " Removes left hand scroll bar
let mapleader=","

" remove pipes in vertical split
set fillchars=vert:\ 

" Map :W to :w since i always accidentally press wrong
" command W w

" Tab between buffers
noremap <tab> <c-w><c-w>

" Use space for :
noremap <space> :

" Switch between last two buffers
nnoremap <leader><leader> <C-^>

au BufRead,BufNewFile *.html set filetype=mustache

" Autofix extra whitespace on write for the following filetypes
autocmd BufWritePre *.js :%s/\s\+$//e
autocmd BufWritePre *.rb :%s/\s\+$//e
autocmd BufWritePre *.haml :%s/\s\+$//e
autocmd BufWritePre *.html :%s/\s\+$//e
autocmd BufWritePre *.scss :%s/\s\+$//e
autocmd BufWritePre *.coffee :%s/\s\+$//e
autocmd BufWritePre *.lisp :%s/\s\+$//e
autocmd BufWritePre *.php :%s/\s\+$//e

let g:Powerline_symbols = 'fancy'

" CtrlP
nnoremap <silent> t :CtrlP<cr>
nnoremap <silent><leader>t :CtrlP<cr>
nnoremap <silent><leader>r :CtrlPMRUFiles<cr>
nnoremap <silent><leader>b :CtrlPBuffer<cr>

let g:ctrlp_match_window_bottom = 0
let g:ctrlp_match_window_reversed = 0

let g:ctrlp_working_path_mode = 2
let g:ctrlp_by_filename = 0
let g:ctrlp_max_files = 1000
let g:ctrlp_max_depth = 6
let g:ctrlp_root_markers = ['.git']
let g:ctrlp_user_command = {
  \ 'types': { 
    \ 1: ['.git/', 'cd %s && git ls-files'],
    \ 2: ['.hg', 'hg --cwd %s locate -I .']
    \ },
  \ 'fallback': 'find %s -type f | head -' . g:ctrlp_max_files
  \ }
